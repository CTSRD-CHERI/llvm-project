// NOTE: Assertions have been autogenerated by utils/update_cc_test_checks.py
/// Using __capability without the appropriate -march string previously
/// crashed clang during codegen instead of emitting an error earlier.
// RUN: %clang_cc1 -triple riscv64 -fsyntax-only %s -verify=no-cheri
// RUN: %clang_cc1 -triple riscv64 -target-feature +xcheri -fsyntax-only %s -verify=cheri
// cheri-no-diagnostics

void *__capability foo; // no-cheri-error{{use of __capability is not supported without CHERI; specify an appropriate -march= or -mcpu=}}
