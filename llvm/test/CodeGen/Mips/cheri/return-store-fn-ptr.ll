; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: %cheri_purecap_llc %s -o - | FileCheck %s

declare signext i32 @nis_passwd(i8 addrspace(200)*, i8 addrspace(200)*, i8 addrspace(200)*) addrspace(200) #1

define i32 (i8 addrspace(200)*, i8 addrspace(200)*, i8 addrspace(200)*) addrspace(200)* @func() addrspace(200) nounwind {
; CHECK-LABEL: func:
; CHECK:       # %bb.0: # %entry
; CHECK-NEXT:    lui $1, %pcrel_hi(_CHERI_CAPABILITY_TABLE_-8)
; CHECK-NEXT:    daddiu $1, $1, %pcrel_lo(_CHERI_CAPABILITY_TABLE_-4)
; CHECK-NEXT:    cgetpccincoffset $c1, $1
; CHECK-NEXT:    clcbi $c3, %captab20(nis_passwd)($c1)
; CHECK-NEXT:    cjr $c17
; CHECK-NEXT:    nop
entry:
  ret i32 (i8 addrspace(200)*, i8 addrspace(200)*, i8 addrspace(200)*) addrspace(200)* @nis_passwd
}
